spring.application.name=api-gateway
server.port=8765

# Eureka Discovery - Docker configuration
eureka.client.service-url.defaultZone=http://course-platform-eureka:8761/eureka/

eureka.client.register-with-eureka=true
eureka.client.fetch-registry=true

# Eureka Instance Configuration for Docker
eureka.instance.hostname=api-gateway
eureka.instance.prefer-ip-address=false
eureka.instance.instance-id=${spring.application.name}:${server.port}
eureka.instance.lease-renewal-interval-in-seconds=30
eureka.instance.lease-expiration-duration-in-seconds=90

# Config Server
spring.config.import=optional:configserver:http://course-platform-config:8888

# Spring Cloud Gateway Discovery Locator
spring.cloud.gateway.server.webflux.discovery.locator.enabled=true
spring.cloud.gateway.server.webflux.discovery.locator.lower-case-service-id=true

# Actuator endpoints
management.endpoints.web.exposure.include=health,info,env,metrics,loggers,beans,gateway,prometheus
management.endpoint.health.show-details=always
management.endpoints.web.base-path=/actuator
management.server.port=${server.port}

# Eureka Health Indicator
management.health.eureka.enabled=true

# Logging
logging.level.org.springframework.cloud.gateway=INFO
logging.level.org.springframework.web.reactive=INFO

